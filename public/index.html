<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- prevent zoom -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <script>
            document.addEventListener('touchmove', function (event) {
                if (event.scale !== 1) {
                    event.preventDefault();
                }
            }, {passive: false});
        </script>
        <!-- external stylesheets -->
        <link rel="stylesheet" href="./css/style.css">
        <!-- PWA -->
        <link rel="manifest" href="./manifest.json"/>
        <!--
            In order to have the launch screens shown on an
            iOS device, you also need to tell the device it
            is dealing with a web app:
        -->
        <meta name="mobile-web-app-capable" content="yes"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="apple-touch-fullscreen" content="yes"/>
        <meta name="apple-mobile-web-app-title" content="Tarot Focus"/>
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <!-- PWA ICONS -->
        <!-- All Apple touch icons for iPad, iPhone, iPod -->
        <link rel="apple-touch-icon" sizes="57x57" href="./favicons/apple-touch-icon-57x57.png"/>
        <link rel="apple-touch-icon" sizes="60x60" href="./favicons/apple-touch-icon-60x60.png"/>
        <link rel="apple-touch-icon" sizes="72x72" href="./favicons/apple-touch-icon-72x72.png"/>
        <link rel="apple-touch-icon" sizes="76x76" href="./favicons/apple-touch-icon-76x76.png"/>
        <link rel="apple-touch-icon" sizes="114x114" href="./favicons/apple-touch-icon-114x114.png"/>
        <link rel="apple-touch-icon" sizes="120x120" href="./favicons/apple-touch-icon-120x120.png"/>
        <link rel="apple-touch-icon" sizes="144x144" href="./favicons/apple-touch-icon-144x144.png"/>
        <link rel="apple-touch-icon" sizes="152x152" href="./favicons/apple-touch-icon-152x152.png"/>
        <!-- All favicon sizes - for all devices and browsers -->
        <link rel="icon" type="image/png" href="./favicons/favicon-196x196.png" sizes="196x196"/>
        <link rel="icon" type="image/png" href="./favicons/favicon-96x96.png" sizes="96x96"/>
        <link rel="icon" type="image/png" href="./favicons/favicon-32x32.png" sizes="32x32"/>
        <link rel="icon" type="image/png" href="./favicons/favicon-16x16.png" sizes="16x16"/>
        <link rel="icon" type="image/png" href="./favicons/favicon-128x128.png" sizes="128x128"/>
        <!-- A favicon with four different sizes -->
        <link rel="shortcut icon" type="image/x-icon" href="./favicons/favicon.ico"/>
        <!-- Application color for Microsoft Windows app tile and Android status bar -->
        <meta name="theme-color" content="#edc22e"/>
        <meta name="msapplication-TileColor" content="#edc22e"/>
        <!-- Application name for Microsoft Windows app tile -->
        <meta name="application-name" content="Tarot Focus"/>
        <!-- Application icons for Microsoft Windows app tile -->
        <meta name="msapplication-TileImage" content="./favicons/ms-tile-144x144.png"/>
        <meta name="msapplication-square70x70logo" content="./favicons/ms-tile-70x70.png"/>
        <meta name="msapplication-square150x150logo" content="./favicons/ms-tile-150x150.png"/>
        <meta name="msapplication-wide310x150logo" content="./favicons/ms-tile-310x150.png"/>
        <meta name="msapplication-square310x310logo" content="./favicons/ms-tile-310x310.png"/>
        <!-- Application config file for Microsoft browsers -->
        <meta name="msapplication-config" content="config.xml"/>
        <!--
            iOS SPLASH SCREENS
            generated at https://progressier.com/pwa-icons-and-ios-splash-screen-generator
        -->
        <link rel="apple-touch-startup-image" media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_14_Pro_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_14_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/iPhone_11__iPhone_XR_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="./splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/12.9__iPad_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/10.9__iPad_Air_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/10.5__iPad_Air_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/10.2__iPad_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="./splash_screens/8.3__iPad_Mini_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_14_Pro_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_14_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/iPhone_11__iPhone_XR_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="./splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/12.9__iPad_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/11__iPad_Pro__10.5__iPad_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/10.9__iPad_Air_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/10.5__iPad_Air_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/10.2__iPad_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="./splash_screens/8.3__iPad_Mini_portrait.png">
        <!-- end PWA -->

        <title>Tarot Focus</title>

        <style>
            #loader {
                background-color: #FBFAFF;
                background-image: url("./assets/load_screens/loading.gif");
                background-position: center;
                background-size: cover;
                display: none;
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                z-index: 2;
            }
        </style>
    </head>
    <body>
        <div id="loader"></div>
        <header>
            <h1>Tarot Focus</h1>
            <p>Welcome to Tarot Focus (name??), the app that uses Tarot cards to help you focus on what matters most.</p>
            <p>We read six cards to see which energies in the spread are most dominant, which ones aren’t, and which ones don’t appear at all. Use this info to find the confidence and direction for getting the most out of your day.</p>
            <p>Meditate on each meaning. As you move between sections, really think about how the messages apply to your life. Going deeper, you may find what you thought was random is really relevant.</p>
            <p>Start your journey now:</p>
            <button id="draw-button">draw cards</button>
        </header>
        <main></main>
        <footer></footer>

        <script type="module">
            import {draw, compare} from "./src/models.js";
            import {preloadImages} from "./src/views/views.js";
            const drawButton = document.querySelector("#draw-button");
            drawButton.onclick = handleDraw;
            // preload loading gif
            new Image().src = "./assets/load_screens/loading.gif";

            function handleDraw() {
                const testCards = [
                        "10 of Cups",
                        "10 of Pentacles",
                        "Knight of Pentacles reversed",
                        "Knight of Swords",
                        "Star reversed",
                        "7 of Wands"
                    ],
                    drawn = draw(6), //, testCards),
                    elem = document.querySelector("main");
                preloadImages(drawn, elem);
            }
        </script>

        <script>
            // The code below checks for service worker support
            // and then registers a service worker located in
            // the service-worker.js file in the root of the project.
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator
                        .serviceWorker
                        .register('./service-worker.js')
                        .then(registration => {
                            console.log(`ServiceWorker registration successful with scope: ${registration.scope}`);
                        }, error => {
                            console.log(`ServiceWorker registration failed: ${error}`);
                        });
                });
            }
        </script>
    </body>
</html>